<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Andrew Ijano" href="https://example.com/rss.xml"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css"><meta name="generator" content="Astro v5.4.1"><!-- Canonical URL --><link rel="canonical" href="https://example.com/mac5856/10-working-with-gnome/"><!-- Primary Meta Tags --><title>[GNOME] Working better with GNOME</title><meta name="title" content="[GNOME] Working better with GNOME"><meta name="description" content="Working better with GNOME"><style>:root{--accent: #ccc;--accent-lighter: white;--background: #030303;--background-code: #24292e;--black: 15, 18, 25;--gray: 96, 115, 159;--gray-light: 229, 233, 240;--gray-dark: 34, 41, 57;--gray-gradient: rgba(var(--gray-light), 50%), #fff;--box-shadow: 0 2px 6px rgba(var(--gray), 25%), 0 8px 24px rgba(var(--gray), 33%), 0 16px 32px rgba(var(--gray), 33%)}*{font-family:Hack,monospace;margin:0;padding:0}body{padding:1em 2em;text-align:left;word-wrap:break-word;overflow-wrap:break-word;color:var(--accent);background-color:var(--background);font-size:.93em;letter-spacing:-.02em;line-height:1.5;font-weight:400;text-rendering:"optimizeLegibility"}main{max-width:calc(100% - 2em);padding:2em 0}h1,h2,h3,h4,h5,h6{margin-top:2.5em;line-height:1.2;color:var(--accent-lighter);font-weight:bolder}.prose h1,h2,h3,h4,h5,h6{margin-bottom:-.6em}h1{font-size:1.2em}h2,h3,h4,h5,h6{font-size:1.1em}strong,b{font-weight:700}a{color:var(--accent);text-decoration:"underline"}a:hover{color:var(--accent-lighter)}.prose p{margin-top:1.6em;color:(--accent)}textarea{width:100%;font-size:16px}input{font-size:1em}table{width:100%}img{max-width:100%;height:auto;border-radius:8px}code{padding:2px 5px;border-radius:2px;font-size:.9em;background-color:var(--background-code);color:var(--accent-lighter)}pre{padding:1.5em;border-radius:8px;margin-top:.5em;margin-bottom:2em}pre>code{all:unset;font-size:.8em}blockquote{border-left:2px solid var(--accent);padding:0 0 0 20px;margin:2em 0}hr{border:none}ul{margin-top:.5em;margin-left:1em}ol{margin-top:.5em;margin-left:2em}li{margin:.5em 0}@media (min-width: 720px){body{font-size:1em;padding:1em 5em}main{padding:1em;width:720px}}.sr-only{border:0;padding:0;margin:0;position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);clip-path:inset(50%);white-space:nowrap}a[data-astro-cid-eimmu3lg]{display:inline-block;color:var(--accent)}a[data-astro-cid-eimmu3lg]:hover{color:var(--accent-lighter)}.active[data-astro-cid-eimmu3lg]{font-weight:bolder;color:var(--accent-lighter)}header[data-astro-cid-3ef6ksr2]{margin:0;width:100%}h2[data-astro-cid-3ef6ksr2]{margin:0;font-size:1em}nav[data-astro-cid-3ef6ksr2]{display:flex;align-items:center;justify-content:space-between}nav[data-astro-cid-3ef6ksr2] div[data-astro-cid-3ef6ksr2]{display:flex;gap:1em}nav[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{border-bottom:2px solid transparent;text-decoration:none}.active[data-astro-cid-3ef6ksr2]{border-bottom:2px solid transparent;border-bottom-color:var(--accent)}.social-links[data-astro-cid-3ef6ksr2],.social-links[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{display:flex}.site-title[data-astro-cid-3ef6ksr2]{color:#fff}@media (max-width: 720px){.social-links[data-astro-cid-3ef6ksr2]{display:none}}
footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em;color:var(--accent);font-size:.8em;text-align:center}.social-links[data-astro-cid-sz7xmlte]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]:hover{color:rgb(var(--gray-dark))}body{display:flex;flex-direction:column;align-items:center}main[data-astro-cid-bvzihdzo]{max-width:100%;margin:0}.hero-image[data-astro-cid-bvzihdzo]{width:100%}.hero-image[data-astro-cid-bvzihdzo] img[data-astro-cid-bvzihdzo]{display:block;margin:0 auto;border-radius:12px;box-shadow:var(--box-shadow)}.prose[data-astro-cid-bvzihdzo]{margin:auto;color:var(--accent)}.title[data-astro-cid-bvzihdzo]{margin-bottom:1em;padding:1em 0;text-align:center;line-height:1}.title[data-astro-cid-bvzihdzo] h1[data-astro-cid-bvzihdzo]{margin:0 0 .5em;color:var(--accent-lighter)}.date[data-astro-cid-bvzihdzo]{margin-bottom:.5em;color:rgb(var(--accent))}.last-updated-on[data-astro-cid-bvzihdzo]{font-style:italic}@media (min-width: 680px){.prose[data-astro-cid-bvzihdzo]{width:680px;max-width:calc(100% - 2em)}}
</style></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <a class="site-title" href="/" data-astro-cid-3ef6ksr2>Andrew Ijano</a> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> /home </a>  <a href="/mac5856" class="active" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> /mac5856 </a>  </div> </nav> </header>  <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="prose" data-astro-cid-bvzihdzo> <div class="title" data-astro-cid-bvzihdzo> <div class="date" data-astro-cid-bvzihdzo> <time datetime="2025-06-03T03:00:00.000Z"> 2025-06-03 </time> </div> <h1 data-astro-cid-bvzihdzo>[GNOME] Working better with GNOME</h1> <hr data-astro-cid-bvzihdzo> </div>  <h2 id="issue-1---again-colors-panel-there-is-an-extra-line-below-the-device-name">[Issue #1 - AGAIN] Colors panel: there is an extra line below the device name</h2>
<blockquote>
<p><a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/issues/1644">Issue 1644</a></p>
</blockquote>
<p>By discussing this further with Alice, one of the maintainers, it seemed that making a workaround for this problem wouldn’t be an issue. So we progressed by chaning the visibility not only of the child but of the row itself in the filter function and <a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/merge_requests/3146">made a MR for that</a>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="diff"><code><span class="line"><span style="color:#B392F0;font-weight:bold">@@ -1908,13 +1908,18 @@</span><span style="color:#E1E4E8"> cc_color_panel_filter_func (GtkListBoxRow *row, void *user_data)</span></span>
<span class="line"><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">   CcColorPanel *self = CC_COLOR_PANEL (user_data);</span></span>
<span class="line"><span style="color:#E1E4E8">   g_autoptr(CdDevice) device = NULL;</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span>  gboolean is_visible;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   /* always show all devices */</span></span>
<span class="line"><span style="color:#E1E4E8">   if (CC_IS_COLOR_DEVICE (row))</span></span>
<span class="line"><span style="color:#E1E4E8">     return TRUE;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">   g_object_get (row, "device", &#x26;device, NULL);</span></span>
<span class="line"><span style="color:#FDAEB7"><span style="user-select: none;">-</span>  return g_strcmp0 (cd_device_get_id (device), self->list_box_filter) == 0;</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span>  is_visible = g_strcmp0 (cd_device_get_id (device), self->list_box_filter) == 0;</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span></span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span>  /* workaround to remove extra line at the end of a row */</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span>  gtk_widget_set_visible (GTK_WIDGET (row), is_visible);</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span>  return is_visible;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p><img src="/gnome-color-line-mr.png" alt=""></p>
<p>The MR was readily reviewed, aproved and merged, being picked for GNOME 47.</p>
<p>In the discussion about this MR, it was pointed that the problem happens in other places too. So I created a <a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/issues/3461">new issue</a> so that other newcommers can contribute to it.</p>
<p><img src="/gnome-color-line-new-issue.png" alt=""></p>
<h2 id="issue-4-apps-panel-file--link-associations-doesnt-show-any-feedback-when-removing-a-file-type">[Issue #4] Apps panel: File &#x26; Link associations doesn’t show any feedback when removing a file type</h2>
<blockquote>
<p><a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/issues/2867">Issue 2867</a></p>
</blockquote>
<p>This issue was related to the file &#x26; link associations not showing any feedback when removing a file type. We solved that by creating a toast that popup at every removal and could undo the changes if clicked. We <a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/merge_requests/3156">created an MR for that</a> and is still under discussion.</p>
<p><img src="/gnome-apps-feedback-mr.png" alt=""></p>
<h2 id="issue-5-keyboards-and-systems-panels-keyboard-layout-dialog-doesnt-fit">[Issue #5] Keyboards and Systems panels: keyboard layout dialog doesn’t fit</h2>
<blockquote>
<p><a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/issues/3390">Issue 3390</a></p>
</blockquote>
<p>This issue was causing the keyboard list to don’t fit correctly in the dialog. Since the dialog seems to have a standardized fixed size, the possible solutions relied on limiting the items in the list. We could remove elements from the shared “initial languages” list in the project, but we decided to implement a logic that makes this limit only when the available languages are above the maximum.</p>
<p>This was done not only for the keyboards panel but for the systems panel too.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="diff"><code><span class="line"><span style="color:#FDAEB7"><span style="user-select: none;">-</span> row = cc_language_row_new (locale_ids[i]);</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span> is_initial = (g_hash_table_lookup (initial, locale_ids[i]) != NULL);</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span> cc_language_row_set_is_extra (row, !is_initial);</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span> is_extra = !is_initial || initial_languages_count >= MAX_INITIAL_LANGUAGES;</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span> if (!is_extra)</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span>        initial_languages_count++;</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span></span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span> cc_language_row_set_is_extra (row, is_extra);</span></span>
<span class="line"><span style="color:#E1E4E8">  gtk_list_box_prepend (self->language_listbox, GTK_WIDGET (row));</span></span>
<span class="line"></span></code></pre>
<p>We <a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/merge_requests/3160">made a MR for that</a> which is still under discussion.</p>
<p><img src="/gnome-keyboard-mr.png" alt=""></p>  </div> </article> </main> <footer data-astro-cid-sz7xmlte> <a href="https://andrewijano.github.io" data-astro-cid-sz7xmlte>andrewijano.github.io</a> &copy; 2025 by Andrew Ijano is licensed under <a href="https://creativecommons.org/licenses/by/4.0/" data-astro-cid-sz7xmlte>CC BY 4.0</a>.
</footer>  </body></html>